doctype html
html
  head
    
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    meta(http-equiv='X-UA-Compatible', content='ie=edge') 
    link(href='https://fonts.googleapis.com/icon?family=Material+Icons', rel='stylesheet')
    link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css')
    link(rel='stylesheet', href='/stylesheets/style.css')
    link(rel='stylesheet', href='assets/css/style.css')
    link(rel='stylesheet', href='/stylesheets/style.1.css')
    link(rel='shortcut icon', href='/img/avatar.ico')
    link(rel='stylesheet', href='https://use.fontawesome.com/releases/v5.4.2/css/all.css', integrity='sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns', crossorigin='anonymous')
    link(href='https://fonts.googleapis.com/icon?family=Material+Icons', rel='stylesheet')
    link(href='/stylesheets/materialize.css', type='text/css', rel='stylesheet', media='screen,projection')
    link(href='/stylesheets/style.css', type='text/css', rel='stylesheet', media='screen,projection')
    script(src='/script/search.js')
    script(src='/script/main.js')
    script(src='/script/materialize.js')
    script(src='/script/init.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js')
    title Home
  body.body-home
    
    nav.blue-grey(role='navigation')
      .nav-wrapper.container
        a#logo-container.brand-logo(href='#')
          img.responsive-img.navlogo(src='/img/twitter_header_photo_1.png', alt='')
        ul.right.hide-on-med-and-down
          li
            a(href='#')
              i.material-icons.right loyalty
              | Topics
          li
            a(href='#')
              i.material-icons.right mode_comment
              | Q&A
          li
            a(href='#')
              i.material-icons.right subject
              | What's New?
          li
            a(href='#')
              i.material-icons.right notifications
              | Notifications
          li
            a(href='#')
              i.material-icons.right settings
              | Settings
        ul#nav-mobile.sidenav
          li
            a(href='#')
              i.material-icons.right loyalty
              | Topics
          li
            a(href='#')
              i.material-icons.right mode_comment
              | Q&A
          li
            a(href='#')
              i.material-icons.right subject
              | What's New?
          li
            a(href='#')
              i.material-icons.right notifications
              | Notifications
          li
            a(href='#')
              i.material-icons.right settings
              | Settings
        a.sidenav-trigger(href='#', data-target='nav-mobile')
          i.material-icons menu 
    .container
      .row
        .col.s12
            nav(style="background-color: #082768")
              x.nav-wrapper
                span.flow-text 
                | &nbsp; Nodejs file upload with MongoDB
      
      form(action='/upload' method="POST" enctype="multipart/form-data",name="uploadimage")
        .row
          .col.s12
            if msg ==1
              .success
                | Photo uploaded successfully
            else if msg == 2
              .error
                | File size too large
            else if msg == 3
              .error
                | Invalid file type. Only JPG, PNG or GIF file are allowed.      
        .row
          .col.s12 
            .file-field.input-field
              .btn.grey
                span File
                input(type='file' name="photo" required)
              .file-path-wrapper
                input.file-path.validate(type='text' )
        .row
          .input-field.col.s12
           input#caption.validate(type='text' name="caption")
           label(for='caption') Caption 
        
        .row
          .col.s12 
            button.btn.waves-effect.waves-light(type='submit', name='action')
              | Upload
              i.material-icons.right send
        .row
          .col.s12
            h4 Galeria
        if (photolist && photolist.length)
          | <div class="row">
          each pic, index in photolist
            |<div class ="col s3"><img src = #{pic['path']} alt="image" class="responsive-img" /><p class="center-align caption">#{pic['caption']}</p></div> 
            if (((index+1) % 4) == 0 )
            | </div><div class="row">
        else
          .row
            .col.s12
              .caption No photos uploaded yet.
    main.home
      
      form.secc-post(method='POST', name='savePost', action='/post')
        .input-field.col.s6
            i.material-icons.prefix mode_edit
            textarea#post.materialize-textarea.white-text(name='post')
            label(for='post') Post Something!
            br
        input#btn-post.waves-effect.waves-light.btn-large.blue-grey(name='btn-post', value='Post', type='submit')
      section.posts
